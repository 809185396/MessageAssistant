## MessageAssistan是什么?
MessageAssistan是一个报文消息工具

## MessageAssistan有哪些功能？
* 解析报文消息流为具体的含义的域
* 根据报文域的值组装出报文消息流
目的减轻我们分析和拼接报文的负担，改善解析和拼接报文这种枯燥乏味的工作，提高工作效率

## 有问题反馈
在使用中有任何问题，欢迎反馈给我。这一版仅包含了用指定文件来处理报文的功能，如何更加智能地处理多协议及同一协议多版本的设计没有构思好，如果您有好的构思或者其它建议，可以反馈给我

## 报文抽象结构介绍
为了有较好的通用性，同时能描述具有一定逻辑结构的报文。参照结构化编程的思想，把报文元素结构抽象出了下面几类
* 消息体
* 具有实际值的字段域
    * 长度单位为字节的实际字段域
	* 长度单位为位的实际字段域
* 条件字段域
* 循环字段域
* 组合字段域
* 引用外部文件字段域

元素间的关系
* 消息体中可以包含条件字段域、循环字段域、组合字段域、引用外部文件字段域、长度单位为字节的实际字段域
* 条件字段域、循环字段域、组合字段域和引用外部文件字段域可以包含条件字段域、循环字段域、组合字段域、引用外部文件字段域、长度单位为字节的实际字段域
* 组合字段域可包含也只有它能包含长度单位为位的实际字段域

表达式
* 表达式可以含有+，-，*，/，%，&，|和~等运算符
* 表达式中可以含有括号()
* 表达式可以引用消息体前面的字段值，格式如${字段名[.字段名[...]]}

## XML文件中的元素类型
本软件中用XML文件来描述报文的格式

### message表示消息体元素，它必须是根节点
属性
* name，描述报文名称，必备
* description，报文备注，可选
* endian，报文大小端格式，必备，可有的值：[big|little]
* cmd, 命令码，必备，整数

### field表示长度单位为字节的实际字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* endian，报文大小端格式，可选，如果没有该字段按照消息体大小端格式解析	
* length, 字段长度，必备，整数
* type，字段数据类型，必备，可选的值:[byte|short|ushort|int|uint|long|ulong|ascii]
* rate, 比例，可选，解析报文时值会除以该值，组装报文时会乘以该值
* offset, 偏移，可选，解析报文时值会减去该值，组装报文时会加上该值
* skip, 跳过该字段不做解析，可选, 可选的值[true|false],默认是false

### bit-child表示长度单位为位的实际字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* endian，报文大小端格式，可选，如果没有该字段按照消息体大小端格式解析	
* length, 字段长度，必备，整数
* type，字段数据类型，必备，可选的值:[byte|short|ushort|int|uint|long|ulong|ascii]
* rate, 比例，可选，解析报文时值会除以该值，组装报文时会乘以该值
* offset, 偏移，可选，解析报文时值会减去该值，组装报文时会加上该值
* skip, 跳过该字段不做解析，可选, 可选的值[true|false],默认是false

### if-field表示条件字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* expr，表达式，必备，表达返回值必须是布尔值

### repeat-field表示循环字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* expr，表达式，必备，表达返回值必须是整数

### bit-field表示组合字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* length, 字段长度，必备，整数

### file-field表示引用外部文件字段域
属性
* name，描述报文名称，必备
* description，报文备注，可选
* file, 外部文件名称，用相对于当前文件的路径